---
import NavBar from '../components/navigation/NavBar';
import CarouselComponent from '../components/CarouselComponent';
import fetchApi from '../lib/strapi';
import type { MemberComment } from 'src/types/types';

const memberComments = await fetchApi<MemberComment[]>({
  endpoint: 'member-comments',
  wrappedByKey: 'data'
});
---

<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='viewport' content='width=device-width' />
    <meta name='generator' content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <h1>Astro</h1>
    <NavBar client:load/>
    <CarouselComponent client:only='react'/>
    {
      memberComments.map(memberComment => (
        <div>
          <h1>{memberComment.name}</h1>
          <p>{memberComment.comment}</p>
        </div>
      ))
    }
  </body>
</html>
